{
  "swagger": "2.0",
  "info": {
    "title": "Azure Functions OpenAPI Extension",
    "version": "1.0.0"
  },
  "host": "imageanalyzerapi20211018183428.azurewebsites.net",
  "basePath": "/api",
  "schemes": [
    "https"
  ],
  "paths": {
    "/ImageAnalyzer": {
      "post": {
        "tags": [
          "machine_learning"
        ],
        "operationId": "Run",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "imageUrl",
            "description": "The **imageUrl** parameter",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "The OK response",
            "schema": {
              "$ref": "#/definitions/imageAnalysis"
            }
          }
        },
        "security": [
          {
            "function_key": [ ]
          }
        ]
      }
    }
  },
  "definitions": {
    "adultInfo": {
      "type": "object",
      "properties": {
        "isAdultContent": {
          "type": "boolean"
        },
        "isRacyContent": {
          "type": "boolean"
        },
        "isGoryContent": {
          "type": "boolean"
        },
        "adultScore": {
          "format": "double",
          "type": "number"
        },
        "racyScore": {
          "format": "double",
          "type": "number"
        },
        "goreScore": {
          "format": "double",
          "type": "number"
        }
      }
    },
    "boundingRect": {
      "type": "object",
      "properties": {
        "x": {
          "format": "int32",
          "type": "integer"
        },
        "y": {
          "format": "int32",
          "type": "integer"
        },
        "w": {
          "format": "int32",
          "type": "integer"
        },
        "h": {
          "format": "int32",
          "type": "integer"
        }
      }
    },
    "category": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "score": {
          "format": "double",
          "type": "number"
        },
        "detail": {
          "$ref": "#/definitions/categoryDetail"
        }
      }
    },
    "categoryDetail": {
      "type": "object",
      "properties": {
        "celebrities": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/celebritiesModel"
          }
        },
        "landmarks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/landmarksModel"
          }
        }
      }
    },
    "celebritiesModel": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        },
        "faceRectangle": {
          "$ref": "#/definitions/faceRectangle"
        }
      }
    },
    "colorInfo": {
      "type": "object",
      "properties": {
        "dominantColorForeground": {
          "type": "string"
        },
        "dominantColorBackground": {
          "type": "string"
        },
        "dominantColors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "accentColor": {
          "type": "string"
        },
        "isBWImg": {
          "type": "boolean"
        }
      }
    },
    "detectedBrand": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        },
        "rectangle": {
          "$ref": "#/definitions/boundingRect"
        }
      }
    },
    "detectedObject": {
      "type": "object",
      "properties": {
        "rectangle": {
          "$ref": "#/definitions/boundingRect"
        },
        "object": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        },
        "parent": {
          "$ref": "#/definitions/objectHierarchy"
        }
      }
    },
    "faceDescription": {
      "type": "object",
      "properties": {
        "age": {
          "format": "int32",
          "type": "integer"
        },
        "gender": {
          "default": "male",
          "enum": [
            "male",
            "female"
          ],
          "type": "string"
        },
        "faceRectangle": {
          "$ref": "#/definitions/faceRectangle"
        }
      }
    },
    "faceRectangle": {
      "type": "object",
      "properties": {
        "left": {
          "format": "int32",
          "type": "integer"
        },
        "top": {
          "format": "int32",
          "type": "integer"
        },
        "width": {
          "format": "int32",
          "type": "integer"
        },
        "height": {
          "format": "int32",
          "type": "integer"
        }
      }
    },
    "imageAnalysis": {
      "type": "object",
      "properties": {
        "categories": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/category"
          }
        },
        "adult": {
          "$ref": "#/definitions/adultInfo"
        },
        "color": {
          "$ref": "#/definitions/colorInfo"
        },
        "imageType": {
          "$ref": "#/definitions/imageType"
        },
        "tags": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/imageTag"
          }
        },
        "description": {
          "$ref": "#/definitions/imageDescriptionDetails"
        },
        "faces": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/faceDescription"
          }
        },
        "objects": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/detectedObject"
          }
        },
        "brands": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/detectedBrand"
          }
        },
        "requestId": {
          "type": "string"
        },
        "metadata": {
          "$ref": "#/definitions/imageMetadata"
        },
        "modelVersion": {
          "type": "string"
        }
      }
    },
    "imageCaption": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        }
      }
    },
    "imageDescriptionDetails": {
      "type": "object",
      "properties": {
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "captions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/imageCaption"
          }
        }
      }
    },
    "imageMetadata": {
      "type": "object",
      "properties": {
        "width": {
          "format": "int32",
          "type": "integer"
        },
        "height": {
          "format": "int32",
          "type": "integer"
        },
        "format": {
          "type": "string"
        }
      }
    },
    "imageTag": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        },
        "hint": {
          "type": "string"
        }
      }
    },
    "imageType": {
      "type": "object",
      "properties": {
        "clipArtType": {
          "format": "int32",
          "type": "integer"
        },
        "lineDrawingType": {
          "format": "int32",
          "type": "integer"
        }
      }
    },
    "landmarksModel": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        }
      }
    },
    "objectHierarchy": {
      "type": "object",
      "properties": {
        "object": {
          "type": "string"
        },
        "confidence": {
          "format": "double",
          "type": "number"
        },
        "parent": {
          "$ref": "#/definitions/objectHierarchy"
        }
      }
    }
  },
  "securityDefinitions": {
    "function_key": {
      "type": "apiKey",
      "name": "code",
      "in": "query"
    }
  }
}